(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2942:function(e,t,s){Promise.resolve().then(s.bind(s,4948))},4948:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Home}});var a=s(3602);let List=e=>{let{users:t,dispatch:s,selectedId:r}=e;return(0,a.jsx)("ul",{className:"w-1/6 divide-y divide-gray-200",children:null==t?void 0:t.map(e=>(0,a.jsx)("li",{onClick:t=>{var a;r!==(a=e.id)&&(s({type:"setSelectedId",payload:a}),t.currentTarget.parentNode&&t.currentTarget.parentNode.childNodes&&Array.from(t.currentTarget.parentNode.childNodes).forEach(e=>{e.style.backgroundColor=""}),t.currentTarget.style.backgroundColor="#4285F4")},className:"py-4 text-sm font-semibold leading-6 text-gray-900",children:e.name},e.id))})},Details=e=>{let{userData:t,isLoading:s}=e;return s?(0,a.jsx)("div",{className:"w-[300px] h-[300px]",children:(0,a.jsx)("div",{className:"w-full",children:"Loading..."})}):t?(0,a.jsxs)("div",{className:"w-[300px] divide-y divide-gray-200 text-sm leading-6 text-gray-900",children:[(0,a.jsx)("img",{src:t.avatar,alt:String(t.id)}),(0,a.jsx)("div",{className:"py-2",children:t.name}),(0,a.jsxs)("ul",{className:"divide-y divide-gray-200 ",children:[(0,a.jsx)("li",{className:"py-2",children:t.details.city}),(0,a.jsx)("li",{className:"py-2",children:t.details.company}),(0,a.jsx)("li",{className:"py-2",children:t.details.position})]})]}):(0,a.jsx)("div",{className:"w-[300px]"})};var r=s(9709);let USER_DATA_URL=e=>"https://raw.githubusercontent.com/netology-code/ra16-homeworks/ra-51/hooks-context/use-effect/data/".concat(e,".json");async function loadData(e){return await fetch(e).then(e=>e.json()).catch(e=>{throw Error(e)})}function reducer(e,t){switch(t.type){case"setSelectedId":return console.log("рендер"),{...e,selectedId:t.payload};case"setUsers":return{...e,users:t.payload};case"setUserData":return{...e,userData:t.payload};case"setLoading":return{...e,isLoading:t.payload};default:throw Error()}}function Home(){let[e,t]=(0,r.useReducer)(reducer,{selectedId:null,userData:null,users:[],isLoading:!1});return(0,r.useEffect)(()=>{var s;(null===(s=e.users)||void 0===s?void 0:s.length)===0&&(async()=>{let e=await loadData("https://raw.githubusercontent.com/netology-code/ra16-homeworks/master/hooks-context/use-effect/data/users.json");t({type:"setUsers",payload:e})})(),null!==e.selectedId&&(async()=>{t({type:"setLoading",payload:!0});let s=await loadData(USER_DATA_URL(e.selectedId));t({type:"setUserData",payload:s}),t({type:"setLoading",payload:!1})})()},[e.users,e.selectedId]),(0,a.jsxs)("div",{className:"mx-auto flex justify-around",children:[(0,a.jsx)(List,{users:e.users,selectedId:e.selectedId,dispatch:t}),(0,a.jsx)(Details,{userData:e.userData,isLoading:e.isLoading})]})}},3200:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=s(9709),r=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var a,d={},i=null,c=null;for(a in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(d[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===d[a]&&(d[a]=t[a]);return{$$typeof:r,type:e,key:i,ref:c,props:d,_owner:n.current}}t.jsx=q,t.jsxs=q},3602:function(e,t,s){"use strict";e.exports=s(3200)}},function(e){e.O(0,[496,663,744],function(){return e(e.s=2942)}),_N_E=e.O()}]);