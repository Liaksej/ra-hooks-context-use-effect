(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2942:function(e,t,r){Promise.resolve().then(r.bind(r,4948))},4948:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var s=r(3602);let List=e=>{let{users:t,dispatch:r,selectedId:a}=e;return(0,s.jsx)("ul",{className:"w-1/6 divide-y divide-gray-200",children:null==t?void 0:t.map(e=>(0,s.jsx)("li",{onClick:t=>{var s;a!==(s=e.id)&&(r({type:"setSelectedId",payload:s}),t.currentTarget.parentNode&&t.currentTarget.parentNode.childNodes&&Array.from(t.currentTarget.parentNode.childNodes).forEach(e=>{e.style.backgroundColor=""}),t.currentTarget.style.backgroundColor="#4285F4")},className:"py-4 text-sm font-semibold leading-6 text-gray-900",children:e.name},e.id))})},Details=e=>{let{userData:t}=e;return t?(0,s.jsxs)("div",{className:"w-fit divide-y divide-gray-200 text-sm leading-6 text-gray-900",children:[(0,s.jsx)("img",{src:t.avatar,alt:String(t.id)}),(0,s.jsx)("div",{className:"py-2",children:t.name}),(0,s.jsxs)("ul",{className:"divide-y divide-gray-200 ",children:[(0,s.jsx)("li",{className:"py-2",children:t.details.city}),(0,s.jsx)("li",{className:"py-2",children:t.details.company}),(0,s.jsx)("li",{className:"py-2",children:t.details.position})]})]}):null};var a=r(9709);let USER_DATA_URL=e=>"https://raw.githubusercontent.com/netology-code/ra16-homeworks/ra-51/hooks-context/use-effect/data/".concat(e,".json");async function loadData(e){return await fetch(e).then(e=>e.json()).catch(e=>{throw Error(e)})}function reducer(e,t){switch(t.type){case"setSelectedId":return console.log("рендер"),{...e,selectedId:t.payload};case"setUsers":return{...e,users:t.payload};case"setUserData":return{...e,userData:t.payload};default:throw Error()}}function Home(){let[e,t]=(0,a.useReducer)(reducer,{selectedId:null,userData:null,users:[]});return(0,a.useEffect)(()=>{var r;(null===(r=e.users)||void 0===r?void 0:r.length)===0&&(async()=>{let e=await loadData("https://raw.githubusercontent.com/netology-code/ra16-homeworks/master/hooks-context/use-effect/data/users.json");t({type:"setUsers",payload:e})})(),null!==e.selectedId&&(async()=>{let r=await loadData(USER_DATA_URL(e.selectedId));t({type:"setUserData",payload:r})})()},[e.users,e.selectedId]),(0,s.jsxs)("div",{className:"mx-auto flex justify-around",children:[(0,s.jsx)(List,{users:e.users,selectedId:e.selectedId,dispatch:t}),(0,s.jsx)(Details,{userData:e.userData})]})}},3200:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(9709),a=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var s,c={},d=null,i=null;for(s in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(i=t.ref),t)l.call(t,s)&&!o.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===c[s]&&(c[s]=t[s]);return{$$typeof:a,type:e,key:d,ref:i,props:c,_owner:n.current}}t.jsx=q,t.jsxs=q},3602:function(e,t,r){"use strict";e.exports=r(3200)}},function(e){e.O(0,[496,663,744],function(){return e(e.s=2942)}),_N_E=e.O()}]);